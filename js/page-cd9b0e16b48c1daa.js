(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1538:function(e,t,r){Promise.resolve().then(r.bind(r,6541))},6541:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(7437),n=r(2265);function i(){return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"text-5xl font-bold tracking-tight flex items-center",children:[(0,s.jsx)("span",{className:"text-purple-400",children:"Sol"}),(0,s.jsx)("span",{className:"text-white",children:"Fessions"})]}),(0,s.jsxs)("div",{className:"text-base text-gray-200 mt-2",children:["Raw unfiltered stories from the ",(0,s.jsx)("span",{className:"text-purple-400",children:"Solana"})," trenches"]})]})}var a=r(2351),o=r(1706),l=r(8623),c=r(5293),d=r(535),u=r(1994),h=r(3335);function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,h.m6)((0,u.W)(t))}let f=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:a=!1,...o}=e,l=a?c.g7:"button";return(0,s.jsx)(l,{className:m(f({variant:n,size:i,className:r})),ref:t,...o})});x.displayName="Button";let b=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("textarea",{className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});b.displayName="Textarea";var p=r(1107);let g=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(p.f,{ref:t,className:m(g(),r),...n})});v.displayName=p.f.displayName;var j=r(9376),w=r(1817);function y(e){let{onSubmit:t}=e,[r,i]=(0,n.useState)(""),[a,o]=(0,n.useState)(!1),l=(0,j.useRouter)(),c=async e=>{e.preventDefault(),o(!0),t(),await new Promise(e=>setTimeout(e,2e3)),l.push("/submitting")};return(0,s.jsxs)("form",{onSubmit:c,className:"space-y-4 w-full",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(v,{htmlFor:"confession",className:"text-white",children:"Your Confession"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(b,{id:"confession",value:r,onChange:e=>i(e.target.value),placeholder:"Share your Trench story...",className:"w-full h-36 p-3 rounded-lg border border-purple-300 bg-black/40 backdrop-blur-sm text-white placeholder-purple-300 resize-none",maxLength:180}),(0,s.jsxs)("span",{className:"absolute bottom-2 right-2 text-sm text-gray-300",children:[r.length,"/180"]})]})]}),(0,s.jsx)(x,{type:"submit",className:"w-full bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700",disabled:a,children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):(0,s.jsxs)(s.Fragment,{children:["Submit ",(0,s.jsx)("span",{className:"text-white",children:"SolFession"})," â†’"]})})]})}var N=r(5547),k=r(1434);function S(e){let{initialCount:t}=e,[r,i]=(0,n.useState)(t),{number:a}=(0,k.q_)({from:{number:r},to:{number:r},config:{mass:1,tension:120,friction:14}});return(0,n.useEffect)(()=>{let e=setInterval(async()=>{try{let e=await fetch("/api/counter",{method:"POST",headers:{"Cache-Control":"no-cache"}});if(!e.ok)throw Error("Failed to update count");let t=await e.json();i(t.count)}catch(e){console.error("Error updating count:",e)}},2e3);return()=>clearInterval(e)},[]),(0,s.jsx)(k.q.div,{className:"text-5xl font-bold mb-2 text-white",children:a.to(e=>Math.floor(e))})}function E(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),[r,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let t=()=>{!d&&e.current&&(e.current.play().catch(e=>console.error("Audio playback failed:",e)),c(!0),u(!0))};return document.addEventListener("click",t),document.addEventListener("keydown",t),()=>{document.removeEventListener("click",t),document.removeEventListener("keydown",t)}},[d]),(0,n.useEffect)(()=>{e.current&&(e.current.volume=.25)},[]),(0,s.jsxs)("main",{className:"min-h-screen relative",children:[(0,s.jsx)(N.v,{}),(0,s.jsx)("div",{className:"relative z-10 p-6",children:(0,s.jsxs)("div",{className:"max-w-xl mx-auto space-y-12 flex flex-col items-center text-center",children:[(0,s.jsx)(i,{}),(0,s.jsxs)("div",{className:"inline-block rounded-2xl bg-white/10 backdrop-blur-md p-8 shadow-sm",children:[(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"text-5xl font-bold mb-2 text-white",children:"Loading..."}),children:(0,s.jsx)(S,{initialCount:11})}),(0,s.jsx)("div",{className:"text-gray-200 text-sm",children:"CONFESSIONS SUBMITTED"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm w-full text-white",children:[(0,s.jsx)("a",{href:"https://x.com/solfessions2025",target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:underline",children:"Confessions Posted Automatically On"}),(0,s.jsx)("a",{href:"https://x.com/solfessions2025",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",children:(0,s.jsx)(a.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 shadow-sm w-full",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 text-white",children:["Share Your ",(0,s.jsx)("span",{className:"text-purple-400",children:"Sol"}),"Fession"]}),(0,s.jsx)("p",{className:"text-gray-200",children:"What's the most wild thing you've done in the trenches this year?"})]}),(0,s.jsx)(y,{onSubmit:()=>{if(e.current&&t.current){let r=e.current.volume;e.current.volume=0,t.current.play().catch(e=>console.error("Submit audio playback failed:",e)),t.current.onended=()=>{e.current&&(e.current.volume=r)}}}})]})}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),e.current&&(r?e.current.pause():(e.current.play(),e.current.volume=.25),c(!r))},className:"fixed bottom-4 right-4 bg-white/10 backdrop-blur-md p-2 rounded-full hover:bg-white/20 transition-colors","aria-label":r?"Mute audio":"Unmute audio",children:r?(0,s.jsx)(o.Z,{className:"text-white"}):(0,s.jsx)(l.Z,{className:"text-white"})})]})}),(0,s.jsxs)("audio",{ref:e,loop:!0,children:[(0,s.jsx)("source",{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/V_x2yqrtPjKfGMij-OUDu6adyWWKdjxxDplmEC8nF7QA014.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]}),(0,s.jsxs)("audio",{ref:t,children:[(0,s.jsx)("source",{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/short-hawk-tuah-7maOku90AYkTQcEviTAUkglMxrVfXj.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})}},5547:function(e,t,r){"use strict";r.d(t,{v:function(){return l}});var s=r(7437),n=r(2265),i=r(3145),a=r(1434);let o=e=>{let{src:t,size:r,index:o}=e,l=(0,n.useRef)(5e3+5e3*Math.random()),[c,d]=(0,n.useState)(80*Math.random()+10),[{y:u},h]=(0,a.q_)(()=>({from:{y:-r},to:async e=>{for(;;)await e({y:window.innerHeight,config:{...a.vc.molasses,duration:l.current}}),d(80*Math.random()+10),await e({y:-r,config:{duration:0}})},config:{...a.vc.molasses,duration:l.current}}));return(0,n.useEffect)(()=>{let e=()=>{d(80*Math.random()+10)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsx)(a.q.div,{style:{position:"absolute",left:"".concat(c,"%"),top:u,transform:"translate(-50%, -50%)"},children:(0,s.jsx)("div",{className:"rounded-full overflow-hidden",style:{boxShadow:"0 0 20px 10px rgba(255, 255, 255, 0.3)",width:r,height:r},children:(0,s.jsx)(i.default,{src:t,alt:"Decorative bubble",width:r,height:r,className:"rounded-full object-cover opacity-30"})})})};function l(){let e=(0,n.useRef)(null),[t,r]=(0,n.useState)({width:0,height:0});return(0,n.useEffect)(()=>{let t;let s=e.current;if(!s)return;let n=s.getContext("2d");if(!n)return;let i=0,a=0,o=()=>{let{width:e,height:t}=s.getBoundingClientRect();s.width=e,s.height=t,r({width:e,height:t})};class l{draw(e){n.beginPath(),n.moveTo(0,s.height);for(let t=0;t<s.width;t++){let r=e+Math.sin((t*this.period+this.phase)/100)*this.amplitude;n.lineTo(t,r)}n.lineTo(s.width,s.height),n.fillStyle=this.color,n.fill()}update(){this.phase+=.02}constructor(e,t,r,s){this.amplitude=e,this.period=t,this.phase=r,this.color=s}}let c=[new l(50,4,0,"rgba(147, 51, 234, 0.3)"),new l(40,5,2,"rgba(59, 130, 246, 0.2)"),new l(30,6,4,"rgba(236, 72, 153, 0.1)")],d=()=>{n.clearRect(0,0,s.width,s.height),n.fillStyle="rgb(17, 24, 39)",n.fillRect(0,0,s.width,s.height),c.forEach((e,t)=>{e.draw(s.height-100+50*t),e.update()}),n.fillStyle="rgba(255, 255, 255, 0.5)";for(let e=0;e<50;e++){let t=(.5*Math.sin(.001*Date.now()+e)+.5)*s.width,r=(.5*Math.cos(.0015*Date.now()+e)+.5)*s.height,i=2*Math.random()+1;n.beginPath(),n.arc(t,r,i,0,2*Math.PI),n.fill()}n.beginPath(),n.arc(i,a,25,0,2*Math.PI),n.fillStyle="rgba(255, 255, 255, 0.1)",n.fill(),t=requestAnimationFrame(d)};return o(),d(),window.addEventListener("resize",o),s.addEventListener("mousemove",e=>{let t=s.getBoundingClientRect();i=e.clientX-t.left,a=e.clientY-t.top}),()=>{window.removeEventListener("resize",o),s.removeEventListener("mousemove",()=>{}),cancelAnimationFrame(t)}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("canvas",{ref:e,className:"fixed inset-0 z-0",style:{width:"100vw",height:"100vh"}}),(0,s.jsxs)("div",{className:"fixed inset-0 z-10 overflow-hidden pointer-events-none",children:[(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/QmTAStnBUY7L14q5qjbsMuMPbwu2QfLVg3tSK9ikeqqRFb.jpg-V2azyNmTvgDgcfpsYwn4L1QPopC6tn.jpeg",size:100,index:0}),(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/QmTAStnBUY7L14q5qjbsMuMPbwu2QfLVg3tSK9ikeqqRFb.jpg-V2azyNmTvgDgcfpsYwn4L1QPopC6tn.jpeg",size:80,index:1}),(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Capture.JPG-9swDsiC1HSf8KxWMjb77ROp2scFdX9.jpeg",size:120,index:2}),(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Capture.JPG-9swDsiC1HSf8KxWMjb77ROp2scFdX9.jpeg",size:90,index:3}),(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/QmeBEgC2K2xHLQrivo3kPbfM9j5paY7antHbDCEXXC688o.jpg-GfTs9hZXv9hyCMbKqS1UoMyjBx6yAl.jpeg",size:150,index:4}),(0,s.jsx)(o,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/QmeBEgC2K2xHLQrivo3kPbfM9j5paY7antHbDCEXXC688o.jpg-GfTs9hZXv9hyCMbKqS1UoMyjBx6yAl.jpeg",size:110,index:5})]})]})}}},function(e){e.O(0,[478,434,971,117,744],function(){return e(e.s=1538)}),_N_E=e.O()}]);